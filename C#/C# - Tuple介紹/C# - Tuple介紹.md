# C# Tuple介紹

當我們在做函數的回傳值時，通常只可傳回一個回傳值，當你想要回傳兩個以上的參數時，我們一般的作法有三種：

> 1. 第一種方法使用ref 與 out參數，out 跟 ref > 的用法一定要先在方法外便做變數宣告透過方法呼叫後，再將值寫入宣告的參數中，再加上如果有很多參數要回傳，程式的可讀性就會降低，以至於這個方法雖好但還是美中不足。
>
> 2.  第二種方法是寫成結構或是類別的方式做資料的回傳，在這邊我會不喜歡這種方法的原因是因為，這會對你的程式碼在維護性上降低，也可能這個類別只專為你這個方法使用這樣就浪費了。
>
> 3. 第三種方法，使用全域變數或是靜態變數的方式去操作，這個方法也不是很理想，這使得大家都有可能去操作到這個變數。

基於上述三點，本篇介紹Tuple來達成上述的效果。

Tuple就是一種拋棄式的資料傳輸物件，讓你將多筆資料透過它進行資料的傳輸。

首先來看看它裡面的內容，我在函式的回傳部分宣告Tuple，並定義好它回傳3個int，宣告好後，在函式結束回傳的部分使用Tuple.Create(T,
T,
T)，這邊的T是要根據你回傳值裡面Tuple的型別，因為我在裡面宣告int，所以我回傳一定是用int去回傳，如下圖。

```cs
public Tuple<int, int, int> TupleTest() 
{
  int a = 10;
  int b = 20;
  int c = 30;

  return Tuple.Create(a, b, c);
}
```

當你要讀取裡面的內容的時候，這時候就可以看出var的好處了，使用一個var變數去接收回傳值，然後使用名稱.item1、名稱.item2等以此類推，來對裡面內容讀值。

```cs
public MainWindow() 
{
  InitializeComponent();
  var test = TupleTest();
  MessageBox.Show(text.Item2.ToString());
}
```

以下將說明到達8以上的參數時，應該如何去宣告與回傳，基本上，參數回傳的部分，透過
Tuple\<T1, T2, T3, T4, T5, T6, T7, TRest\> 類別，第 8 個TRest 代表其他的
Item, Item8 的型別也是 Tuple ，透過這種方式來達成無限多層 Tuple
的結構可以到達無窮，雖然這種做法很方便，但建議回傳得參數還是不要太多比較好，會造成程式碼可讀性下降，而且最好再加上註解，畢竟之後回來再看程式碼時，才不會在那邊猜想說到底item1是甚麼東西。八個回傳參數使用方法如下：

```cs
public Tuple<int, int, int, int, int, int, int, Tuple<Tuple<int, int, int>>> test() 
{
  return Tuple.Create(1, 2, 3, 4, 5, 6, 7, Tuple.Create(10, 20, 30));
}
```

最後再做個提醒，在使用Tuple的時候，每個回傳的item做好加上註解，為往後程式維護增加易讀性；呼叫完後，就不要再直接往外丟，最好再呼叫的地方就將邏輯判斷做個結束會比較好。
